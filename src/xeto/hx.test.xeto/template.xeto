//
// Copyright (c) 2025, SkyFoundry LLC
// Licensed under the Academic Free License version 3.0
//
// History:
//   28 Sep 2025  Brian Frank  Creation
//

//////////////////////////////////////////////////////////////////////////
// Bind
//////////////////////////////////////////////////////////////////////////

testTemplateBindA: Template {
  s: Str

  returns: Dict {
    dis: "Test"
    foo
    x: Bind <var:"s">
    y: Number 123
  }
}

testTemplateBindB: Template {
  data: Dict

  returns: Dict {
    a:  Bind <var:"data.a">
    b1: Bind <var:"data.b">
    b2: Bind <var:"data?.b">
    c:  Bind <var:"data.c.nest">
    d:  Bind <var:"data?.d">
    e:  Bind <var:"data?.e">
    en: Bind <var:"data?.e?.nest">
    f:  Bind <var:"data?.f?.no">
  }
}

//////////////////////////////////////////////////////////////////////////
// If
//////////////////////////////////////////////////////////////////////////

testTemplateIfA: Template {
  cond: Bool

  returns: Dict {
    If <var:"cond"> {
      dis: "cond is true"
    }
  }
}

testTemplateIfB: Template {
  cond: Bool

  returns: Dict {
    If <var:"cond"> {
      dis: "cond is true"
      yea
    }
    Else {
      dis: "cond is false"
      nay
    }
  }
}

//////////////////////////////////////////////////////////////////////////
// Switch
//////////////////////////////////////////////////////////////////////////

testTemplateSwitchA: Template {
  cond: Str

  returns: Switch <var:"cond"> {
    Case <match:"a"> {
      Dict { dis:"case a" }
    }
    Case <match:"b"> {
      Dict { dis:"case b" }
    }
    Default {
      Dict { dis:"case default" }
    }
  }
}

//////////////////////////////////////////////////////////////////////////
// Foreach
//////////////////////////////////////////////////////////////////////////

testTemplateForeachA: Template {
  list: List<of:Str>

  returns: Foreach <var:"list"> {
    Dict { dis: Bind <var:"it"> }
  }
}

testTemplateForeachB: Template {
  list: List<of:Str>

  returns: Dict {
    Foreach <var:"list"> {
      Dict { dis: Bind <var:"it"> }
    }
  }
}

